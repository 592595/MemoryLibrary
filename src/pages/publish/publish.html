<!--
  Generated template for the PublishPage page.

  See http://ionicframework.com/docs/components/#navigation for more info on
  Ionic pages and navigation.
-->
<ion-header no-border>
  <ion-navbar>
      <ion-segment [(ngModel)]="pet" color="dark">
        <ion-segment-button value="puppies">
          物件
        </ion-segment-button>
        <ion-segment-button value="kittens">
          回忆
        </ion-segment-button>
      </ion-segment>
    <ion-buttons end>
      <button ion-button icon-only color="dark" (click)="pub()">
        <ion-icon name="paper-plane"></ion-icon>
      </button>
    </ion-buttons>
  </ion-navbar>
</ion-header>

<ion-content>
  <section padding>
    <ion-textarea [(ngModel)]="des" placeholder="这份回忆背后的故事"></ion-textarea>
    <div (press)="pressEvent(i)" *ngFor="let item of items; let i=index" class="imgs"
         [style.background]="'url('+ item +')'"></div>
    <div [hidden]="ishide" (click)="presentActionSheet();" class="imgs"
         [style.background]="'url(assets/img/addimg.png)'"></div>
  </section>
  <div [ngSwitch]="pet">
    <ion-list *ngSwitchCase="'puppies'">
      <ion-list style="margin-top: 5rem; margin-bottom: -1rem">
        <ion-item>
          <ion-label>博物馆</ion-label>
          <ion-select [(ngModel)]="mid" submitText="确认" cancelText="取消">
            <ion-option value="m._id" *ngFor="let m of mus">{{m.name}}</ion-option>
          </ion-select>
        </ion-item>
        <ion-item [hidden]="!published">
          <ion-label fixed>展位</ion-label>
          <ion-input type="text" [(ngModel)]="display"></ion-input>
        </ion-item>
      </ion-list>
    </ion-list>
    <ion-list *ngSwitchCase="'kittens'">
      <ion-list style="margin-top: 5rem; margin-bottom: -1rem">
        <ion-item>
          <ion-label fixed>位置</ion-label>
          <ion-input type="text" [(ngModel)]="loc"></ion-input>
        </ion-item>
      </ion-list>
    </ion-list>
  </div>
  <ion-buttons style="margin-top: -35px">
    <button ion-button icon-only color="dark" clear (click)="setPrivate()" [hidden]="!published">
      <ion-icon name="ios-eye-outline"></ion-icon>
    </button>
    <button ion-button icon-only color="dark" clear (click)="setPublic()" [hidden]="published">
      <ion-icon name="ios-eye-off-outline"></ion-icon>
    </button>
  </ion-buttons>
</ion-content>
